# 11章のメモ(プロセスの役割)

## プロセス？

OSが実行ファイルを読み込んで、実行するためには、そのリソース(メモリや、CPUなど)を用意する必要がある 
このリソースをまとめたプログラムの実行単位がプロセス

## Goから確認できる、プロセスに含まれるもの

* プロセスID
* プロセスグループID, セッショングループID（パイプで繋げたコマンドは1つのグループに、同じターミナルで起動したプロセスは同じセッションになる)
* ユーザID, グループID
* 実効ユーザID, 実効グループID
* カレントフォルダ
* ファイルディスクリプタ

## ファイルディスクリプタ再び

Go言語での標準入出力の初期化は下記のようになってる
```Go
Stdin = os.NewFile(0, "/dev/stdin")
Stdout = os.NewFile(1, "/dev/stdout")
Stderr = os.NewFile(2, "/dev/stderr")
```

## プロセスの入出力

プロセスは入力があって、プログラムがそれを処理して、最後に出力する  
関数のようなもの

プロセスは下3つの入出力データがある

* コマンドライン引数 
* 環境変数
* 終了コード

## コマンドライン引数

一般的な手法

Go言語では`os.Args`で取得できる  
これを使ってもいいけど、処理が複雑になるので、`オプションパーザー`を使うのが良い(`flag`パッケージとか)

## 環境変数

ユーザごとの固有の設定が含まれた配列

最近のWebアプリケーションでは、本番環境と開発環境の切り替えに使ったりする  
またコンテナでは、サーバーに固有の情報やクレデンシャル情報を環境変数で渡したりする

最初のプロセスからずっとわたし続けられるという意味ではグローバル変数のように扱える

