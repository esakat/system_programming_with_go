# 5章のメモ(システムコール)

この章ではシステムコールについて掘り下げていく

## システムコールとは

特権モードでOSの機能を呼ぶこと

### 特権モードとは

CPUの動作モードと呼ばれる仕組みでは、モードによって利用できる機能を設定できる  
OSが動作するのが特権モード。 一般的なアプリケーションはユーザモード  
特権モードではほとんど全てのCPU機能が使える　 
(ユーザモードでは機能が制限され、メモリ割り当てやファイル入出力などができない)

### 一般アプリケーションでもメモリ割り当てとかをしたい

多くのOSではシステムコールを介して、アプリケーションでも特権モードのみが使える機能を提供している  
(厳密に言うと、システムコールでは自由にいつでも特権モードの機能を使えるわけではない(一回で1つのプロシージャしか呼び出せない))

### システムコールがないとどうなるか

例えばあるアプリケーションが計算したデータがあるとして  
システムコールがなければ

* 計算結果を画面に表示できない(外部表示は別プロセスが管理。プロセス間通信は特権モードでのみ許可されている)
* 計算結果をファイルに保存できない(ファイル入出力も特権モードのみ許可)
* 共有メモリへ書き出しできない(共有メモリがあれば別プログラムから計算結果を参照可能)(共有メモリ作成は特権も(ry..)
* 計算結果を外部Webサービスにも送れない(外部Webサービスへの通信はカーネルが提供する機能でないと、不可)
